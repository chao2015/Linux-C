#Daemon

> + 守护进程运行在后台也称作“后台服务进程”。在linux中，每一个系统与用户进行交流的界面称为终端，每一个从此终端开始运行的进程都会依赖这个终端，这个终端就称为这些进程的控制终端。
当控制终端被关闭时，相应的进程都会自动关闭。但是守护进程却能突破这种限制，它被执行开始运转，直到整个系统关闭时才退出。
> + 几乎所有的服务器程序如Apache和wu-FTP，都用daemon进程的形式实现。很多Linux下常见的命令如inetd和ftpd，末尾的字母d通常就是指daemon。 

###1.守护进程的特性
 
> + 守护进程最重要的特性是后台运行。
> + 其次，守护进程必须与其运行前的环境隔离开来。这些环境包括未关闭的文件描述符、控制终端、会话和进程组、工作目录以及文件创建掩码等。这些环境通常是守护进程从父进程那里继承下来的。
 

###2.创建步骤

> * 创建子进程，父进程退出：fork()
> * 在子进程中创建新会话,使其成为领头进程：setsid()
> * 改变当前目录为根目录：chdir("/")
> * 重设文件权限掩码：umask(0)
> * 关闭所有不需要的文件描述符：close(i)